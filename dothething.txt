what it needs to do:

when pipeline calls: (needs to pass project ID and PR#) (azure pulls pr number from System.PullRequest.PullRequestNumber)
Calls sonarqube API with project ID and pr number api/issues/search?componentKeys=x&pullRequest=y
also call PR status
Check Status:eg status = pullrequest where key = 123, pr.get(status.get(qualitygatestatus)) && 
if ok&0 => post ok message on github client and end
if ok&>0 => post ok and issues 
else if failed => block and issues 
send call to action comment in PR for the issues





Example calls

Get PR issues
https://sonarqube.nhswebsite-staging.nhs.uk/api/issues/search?componentKeys=DCT_Campaigns_Resource_Centre&pullRequest=156

Get PR Status ( have to parse cant search )
https://sonarqube.nhswebsite-staging.nhs.uk/api/project_pull_requests/list?project=DCT_Campaigns_Resource_Centre

Post GH Review (CLI):
gh pr review [<number> | <url> | <branch>] [flags]
gh pr review 123 -r -b "needs more ASCII art"
Post GH Review docs 
https://docs.github.com/en/rest/pulls/reviews?apiVersion=2022-11-28#create-a-review-for-a-pull-request
https://pygithub.readthedocs.io/en/latest/github_objects/PullRequest.html